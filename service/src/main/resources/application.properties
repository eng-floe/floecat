## application name
quarkus.application.name=metacat-service
## server
quarkus.grpc.server.use-separate-server=false
quarkus.http.http2=true
quarkus.grpc.server.plain-text=true
quarkus.grpc.server.enable-reflection-service=true
quarkus.http.port=9100
## clients
quarkus.grpc.clients.metacat.host=localhost
quarkus.grpc.clients.metacat.port=9100
quarkus.grpc.clients.metacat.plain-text=true
## Metacat repository seeding
metacat.seed.enabled=true
## Pointer store configuration
metacat.kv=memory
#metacat.kv=dynamodb
#metacat.kv.table=metacat_pointers
#metacat.kv.auto-create=true
#metacat.kv.ttl-enabled=true
## Blob store configuration
metacat.blob=memory
#metacat.blob=s3
#metacat.blob.s3.bucket=metacat-dev
#aws.region=us-east-1
## GC settings
metacat.idempotency.ttl-seconds=300
# Scheduler cadence
metacat.gc.idempotency.tick-every=60s
# Slice controls
metacat.gc.idempotency.page-size=500
metacat.gc.idempotency.batch-limit=2000
metacat.gc.idempotency.slice-millis=1500
# Tenant page size during fair iteration
metacat.gc.idempotency.tenants-page-size=50
## OpenTelemetry
quarkus.otel.enabled=true
quarkus.otel.traces.enabled=true
quarkus.otel.propagators=tracecontext,baggage
quarkus.otel.traces.exporter=none
## logging
quarkus.log.console.json=true
quarkus.log.console.level=INFO
quarkus.log.category."ai.floedb.metacat".level=INFO
quarkus.log.category."software.amazon.awssdk".level=WARN
quarkus.banner.enabled=false
quarkus.log.console.json.additional-field.plan_id=%X{plan_id}
quarkus.log.console.json.additional-field.correlation_id=%X{correlation_id}
quarkus.log.console.json.additional-field.tenant_id=%X{tenant_id}
quarkus.log.console.json.additional-field.subject=%X{subject}
# ---------- General log  ----------
quarkus.log.file.enable=true
quarkus.log.file.path=log/metacat-service.log
quarkus.log.file.level=INFO
quarkus.log.file.rotation.max-file-size=20M
quarkus.log.file.rotation.max-backup-index=14
quarkus.log.file.rotation.rotate-on-boot=true
quarkus.log.file.rotation.file-suffix=.yyyy-MM-dd
# ---------- Audit log ----------
quarkus.log.handler.file."audit".enable=true
quarkus.log.handler.file."audit".path=log/audit.json
quarkus.log.handler.file."audit".level=INFO
quarkus.log.handler.file."audit".json=true
quarkus.log.handler.file."audit".json.additional-field.plan_id=%X{plan_id}
quarkus.log.handler.file."audit".json.additional-field.correlation_id=%X{correlation_id}
quarkus.log.handler.file."audit".json.additional-field.tenant_id=%X{tenant_id}
quarkus.log.handler.file."audit".json.additional-field.subject=%X{subject}
quarkus.log.handler.file."audit".rotation.max-file-size=20M
quarkus.log.handler.file."audit".rotation.max-backup-index=14
quarkus.log.handler.file."audit".rotation.rotate-on-boot=true
quarkus.log.handler.file."audit".rotation.file-suffix=.yyyy-MM-dd
quarkus.log.category."ai.floedb.metacat.catalog.rpc".level=INFO
quarkus.log.category."ai.floedb.metacat.catalog.rpc".handlers=audit
quarkus.log.category."ai.floedb.metacat.catalog.rpc".use-parent-handlers=false
quarkus.log.category."ai.floedb.metacat.namespace.rpc".level=INFO
quarkus.log.category."ai.floedb.metacat.namespace.rpc".handlers=audit
quarkus.log.category."ai.floedb.metacat.namespace.rpc".use-parent-handlers=false
quarkus.log.category."ai.floedb.metacat.directory.rpc".level=INFO
quarkus.log.category."ai.floedb.metacat.directory.rpc".handlers=audit
quarkus.log.category."ai.floedb.metacat.directory.rpc".use-parent-handlers=false
quarkus.log.category."ai.floedb.metacat.table.rpc".level=INFO
quarkus.log.category."ai.floedb.metacat.table.rpc".handlers=audit
quarkus.log.category."ai.floedb.metacat.table.rpc".use-parent-handlers=false
quarkus.log.category."ai.floedb.metacat.view.rpc".level=INFO
quarkus.log.category."ai.floedb.metacat.view.rpc".handlers=audit
quarkus.log.category."ai.floedb.metacat.view.rpc".use-parent-handlers=false
quarkus.log.category."ai.floedb.metacat.tenant.rpc".level=INFO
quarkus.log.category."ai.floedb.metacat.tenant.rpc".handlers=audit
quarkus.log.category."ai.floedb.metacat.tenant.rpc".use-parent-handlers=false
quarkus.log.category."ai.floedb.metacat.planning.rpc".level=INFO
quarkus.log.category."ai.floedb.metacat.planning.rpc".handlers=audit
quarkus.log.category."ai.floedb.metacat.planning.rpc".use-parent-handlers=false
quarkus.log.category."ai.floedb.metacat.connector.rpc".level=INFO
quarkus.log.category."ai.floedb.metacat.connector.rpc".handlers=audit
quarkus.log.category."ai.floedb.metacat.connector.rpc".use-parent-handlers=false
